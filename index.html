<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê²°í˜¼ ì‹¬ë¦¬ ê¶í•© í…ŒìŠ¤íŠ¸</title>
  <style>
    html, body {
      background: #f7f9fb;
      color: #21242b;
      padding: 0;
      margin: 0;
      font-family: 'Segoe UI', 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
    }
    body { max-width: 820px; margin: auto; padding: 2rem 1rem 2rem 1rem; }
    h1 { font-size:2.2rem; font-weight: bold; text-align: center; margin: 0 0 1.1rem 0; letter-spacing:-1.5px;}
    nav { display: flex; justify-content: space-around; margin-bottom: 1.7rem; gap:.7rem; flex-wrap:wrap;}
    nav button {
      flex:1;
      min-width:110px;
      padding: 1rem 0.5rem;
      border: none;
      border-radius: 1.2rem;
      font-weight: bold;
      font-size: 1.1rem;
      letter-spacing: -1.1px;
      color: #fff;
      box-shadow: 0 2px 12px rgba(0,0,0,0.12);
      cursor: pointer;
      transition: transform .11s, background .14s, color .09s;
      margin-bottom: .7rem;
      outline: none;
      margin-right:2px;
    }
    nav button[data-target="jung"] { background: linear-gradient(90deg,#4777f3,#3653e2);}
    nav button[data-target="attachment"] { background: linear-gradient(90deg,#22c994,#36e29a);}
    nav button[data-target="color"] { background: linear-gradient(90deg,#f29d3a,#f37636);}
    nav button[data-target="summary"] { background: linear-gradient(90deg,#f376b8,#c336e2);}
    nav button.active, nav button:focus { transform: scale(1.08); box-shadow: 0 2px 18px rgba(44,62,80,.18);}
    section { display: none; }
    .active { display: block; }
    .test-header {
      display:flex; align-items: center; justify-content: center;
      gap:1rem;
      padding:1.1rem 1.1rem 1.1rem 1.1rem;
      border-radius: 1.15rem;
      margin-bottom: 1.0rem;
      font-weight: 900;
      font-size: 1.6em;
      color:#fff;
      box-shadow: 0 2px 12px rgba(44,62,80,.08);
      letter-spacing:-1px;
      position:relative;
      min-height: 62px;
      text-align: center;
    }
    .test-header .icon { font-size:2.0em; margin-right:.42em;}
    .test-desc {
      font-size: 1.11em; font-weight: 700;
      margin-bottom:2.1rem; margin-top: -.9rem;
      color:#222; background: linear-gradient(90deg,#fff6a1 0%, #f7e1fa 100%);
      border-radius:1.1em; padding:1.1em 1em;
      text-align:center;
      box-shadow: 0 1px 8px #f0e7ff91;
      border: 1.7px solid #e3c3ff;
      max-width:600px;
      margin-left:auto;margin-right:auto;
    }
    #jung .test-header { background: linear-gradient(90deg,#4777f3,#3653e2);}
    #attachment .test-header { background: linear-gradient(90deg,#22c994,#36e29a);}
    #color .test-header { background: linear-gradient(90deg,#f29d3a,#f37636);}
    #summary .test-header { background: linear-gradient(90deg,#f376b8,#c336e2);}
    .button {
      padding: 1.05rem;
      width: 100%;
      background: #4777f3;
      color: #fff;
      border: none;
      border-radius: 1.15rem;
      cursor: pointer;
      font-size: 1.09rem;
      font-weight: bold;
      margin-top:.7rem;
      margin-bottom:.23rem;
      box-shadow: 0 1px 6px rgba(44,62,80,.11);
      letter-spacing: -1.2px;
      transition: background .11s, transform .09s;
    }
    .button:active { background: #3450c8;}
    .restart { margin-top: 1.1rem; background: #888; }
    .result-deck {
      display: flex; flex-direction:column; gap:2.5rem;
      margin-top:2.1rem;
      margin-bottom:2rem;
    }
    .result-card {
      padding: 2.2rem 1.3rem 1.7rem 1.3rem;
      border-radius: 1.2rem;
      background: #fff;
      box-shadow: 0 8px 36px rgba(60,55,120,0.13), 0 1px 0 #ececec;
      border: 2.1px solid #ebe9ff;
      margin-top: 0;
      display: flex; flex-direction:column; align-items:center; gap:1.1em;
      min-height: 165px;
      text-align:center;
      position:relative;
      font-size:1.09em;
      max-width:520px; margin:auto;
    }
    .result-card .card-icon {
      position:absolute;
      left:1.5rem; top:1.3rem;
      font-size:2.1em;
      opacity:0.98; /* ì§„í•˜ê²Œ í‘œì‹œ */
      z-index:1;
    }
    .result-card h3 {
      font-size:1.4em;
      font-weight:800;
      letter-spacing:-1.5px;
      margin-bottom:.2em;
      color: #2a3358;
      margin-top: 0;
      border-bottom: 2px solid #ececec;
      padding-bottom: 0.13em;
      width:100%;
      background:linear-gradient(90deg,#e5eaff,#fff);
      border-radius:.7em .7em 0 0;
      z-index:2;
      position:relative;
      text-align:center;
    }
    .type-em { font-size:1.18em; font-weight: bold; letter-spacing:.2px; margin-bottom:.35em;}
    .type-good { color:#13b669; font-weight: bold; font-size: 1.09em;}
    .type-info { margin: 0.21em 0 0.4em 0; font-size:.98em;}
    .final-msg {
      text-align:center;
      margin-top:2.0em;
      font-size:1.13em;
      font-weight:bold;
      color:#43417c;
      letter-spacing:-1.2px;
      background:linear-gradient(90deg,#f7e5ff 60%,#e5f8ff 100%);
      border-radius:1.1em;
      box-shadow:0 2px 30px rgba(180,120,220,0.10);
      padding:1.2em 0.8em 1.5em 0.8em;
      border:2px solid #e7e0f7;
      max-width:650px; margin:auto;
    }
    .result-card ul { margin: 0.5em 0 0.6em 0; padding:0; list-style:none; font-size:1.06em;}
    .result-card ul li { margin:.4em 0;}
    .question { margin-bottom: 2.0rem; }
    .question label {
      display: block;
      margin-bottom: .57rem;
      font-weight: 700;
      font-size: 1.13rem;
      line-height: 1.44;
      color: #24292f;
      word-break: keep-all;
    }
    .scale-labels {
      display: flex;
      justify-content: space-between;
      font-size: .98rem;
      color: #191919;
      margin: .55rem 0 .7rem 0;
      font-weight: 700;
      letter-spacing: -1px;
      text-shadow:0 1px 0 #fff6;
    }
    .radio-group { display: flex; justify-content: space-between; gap: .4rem; }
    .radio-group input[type=radio] { display: none; }
    .radio-group label {
      flex: 1; text-align: center; padding: .46rem 0; border: 1.5px solid #ccc; border-radius: .6rem;
      cursor: pointer; background: #fff; transition: background .1s, color .1s, border .1s;
      font-weight: bold; font-size:1.04rem;
    }
    /* ì¹¼ìœµ ê·¸ë¼ë””ì–¸íŠ¸ */
    #jung .radio-group input:checked + label {
      background: linear-gradient(90deg, #4777f3 65%, #3653e2 100%);
      color: #fff;
      border: 2.5px solid #4777f3;
    }
    /* ì• ì°©ìœ í˜• ê·¸ë¼ë””ì–¸íŠ¸ */
    #attachment .radio-group input:checked + label {
      background: linear-gradient(90deg, #22c994 65%, #36e29a 100%);
      color: #fff;
      border: 2.5px solid #22c994;
    }
    /* ìƒ‰ê¹” ê¶í•©: ê°€ìš´ë° ì •ë ¬ ë° ìŠ¤íƒ€ì¼ */
    #myColorGroup, #idealColorGroup {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: .18em;
    }
    #myColorGroup label, #idealColorGroup label {
      flex: unset; display:inline-block;
      min-width: 80px; font-size:1.09em;
      margin: 0 0.18em 0.14em 0;
      border-radius: .8em;
      font-weight:700;
      color:#fff;
      text-shadow: 0 1px 6px #2223;
      border: 2px solid #fff;
      padding: .6em 1.2em .6em 1.2em;
      box-shadow:0 1px 8px #0001;
      cursor:pointer;
      transition: all .13s;
      letter-spacing:-1px;
    }
    /* ìƒ‰ê¹” ê¶í•©: ì„ íƒ ì‹œ ê°•ì¡° */
    #myColorGroup input:checked + label, #idealColorGroup input:checked + label {
      outline: 0;
      border: 2.5px solid #222;
      color: #222 !important;
      background: #fff !important;
      text-shadow: none;
      box-shadow:0 0 0 4px #e7e7e7;
    }
    .color-circle { display: inline-block; width: 2rem; height: 2rem; border-radius: 50%; margin-right: .5rem; vertical-align: middle; }
    @media (max-width:600px){
      body {padding: .7rem .2rem 2rem .2rem;}
      nav {gap:2px;}
      .test-header {padding:.65rem .4rem;font-size:1.13em; min-height:45px;}
      .result-card{padding:1.0rem .3rem;}
      .final-msg{padding:.7em .1em;}
      .type-em{font-size:1.04em;}
      .scale-labels{font-size:.90em;}
      .question label{font-size:1.03rem;}
      .radio-group label{font-size:0.98rem; padding:.36rem 0;}
      .result-deck{gap:1.05rem;}
      .test-desc{font-size:1em;padding:.8em .5em;}
      #myColorGroup label, #idealColorGroup label {
        min-width:65px;font-size:1em;padding:.5em 1em;
      }
    }
  </style>
</head>
<body>
  <h1>ğŸ’ ê²°í˜¼ ì‹¬ë¦¬ ê¶í•© í…ŒìŠ¤íŠ¸</h1>
  <nav>
    <button data-target="jung" class="active">ğŸŒ€ ì¹¼ ìœµì˜ ì›í˜• ë¶„ì„</button>
    <button data-target="attachment">ğŸ”— ì• ì°© ìœ í˜• ë¶„ì„</button>
    <button data-target="color">ğŸ¨ ìƒ‰ê¹” ê¶í•© ë¶„ì„</button>
    <button data-target="summary">ğŸŒŸ ì¢…í•© ê²°ê³¼</button>
  </nav>

  <!-- ì¹¼ ìœµ í…ŒìŠ¤íŠ¸ -->
  <section id="jung" class="active">
    <div class="test-header"><span class="icon">ğŸŒ€</span>ì¹¼ ìœµì˜ ì›í˜• ë¶„ì„</div>
    <div class="test-desc">
      <b>ë‚˜ì˜ ëŒ€í‘œ ì„±í–¥ì´ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë´…ë‹ˆë‹¤.<br>
      ğŸ‘‘ ì™•, âš”ï¸ ì „ì‚¬, ğŸ’ ì—°ì¸, ğŸ§™ ë§ˆë²•ì‚¬ ë„¤ ê°€ì§€ ì›í˜• ì¤‘<br>
      ë‚˜ëŠ” ì–´ë–¤ ëª¨ìŠµì´ ê°•í•œì§€ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</b>
    </div>
    <form id="surveyFormJung">
      <div id="questionsJung"></div>
      <div id="bonusJung"></div>
      <button type="submit" class="button">ì œì¶œ</button>
    </form>
    <button id="restartJung" class="button restart" style="display:none;">ë‹¤ì‹œí•˜ê¸°</button>
  </section>

  <!-- ì• ì°© ìœ í˜• í…ŒìŠ¤íŠ¸ -->
  <section id="attachment">
    <div class="test-header"><span class="icon">ğŸ”—</span>ì• ì°© ìœ í˜• ë¶„ì„</div>
    <div class="test-desc">
      <b>
        íšŒí”¼í˜•, ë¶ˆì•ˆí˜•, ì•ˆì •í˜• ì¤‘<br>
        ë‚˜ëŠ” ì–´ë–¤ ì• ì°© ìœ í˜•ì¸ì§€ ì•Œì•„ë´…ë‹ˆë‹¤.<br>
        ì—°ì¸/ë°°ìš°ìì™€ì˜ ê´€ê³„ì—ì„œ<br>
        ë‚´ ì• ì • í‘œí˜„, ê±°ë¦¬ê°, ì‹ ë¢°ê° ë“±<br>
        ëŒ€ì¸ê´€ê³„ì˜ ì‹¬ë¦¬ì  ì•ˆì „ê°ì„ í™•ì¸í•´ë³´ì„¸ìš”.
      </b>
    </div>
    <form id="surveyFormAttach">
      <div id="questionsAttach"></div>
      <button type="submit" class="button">ì œì¶œ</button>
    </form>
    <button id="restartAttach" class="button restart" style="display:none;">ë‹¤ì‹œí•˜ê¸°</button>
  </section>

  <!-- ìƒ‰ê¹” ê¶í•© í…ŒìŠ¤íŠ¸ -->
  <section id="color">
    <div class="test-header"><span class="icon">ğŸ¨</span>ìƒ‰ê¹” ê¶í•© ë¶„ì„</div>
    <div class="test-desc">
      <b>
        <span style="color:#f37636;">â€˜ë‚˜â€™</span>ë¥¼ ë– ì˜¬ë¦´ ë•Œ<br>
        ê°€ì¥ ë¨¼ì € ìƒê°ë‚˜ëŠ” ìƒ‰ì„ ê³ ë¥´ê³ ,<br>
        <span style="color:#478af3;">â€˜ì´ìƒí˜•(ìƒëŒ€ë°©)â€™</span>ì„ ë– ì˜¬ë¦´ ë•Œ<br>
        ê°€ì¥ ë¨¼ì € ìƒê°ë‚˜ëŠ” ìƒ‰ë„ ê³¨ë¼ë³´ì„¸ìš”.
      </b>
    </div>
    <form id="surveyFormColor">
      <div class="question"><label>ë‚˜ì˜ ìƒ‰ê¹” ì„ íƒ</label><div id="myColorGroup" class="radio-group"></div></div>
      <div class="question"><label>ì´ìƒí˜•(ìƒëŒ€ë°©)ì˜ ìƒ‰ê¹” ì„ íƒ</label><div id="idealColorGroup" class="radio-group"></div></div>
      <button type="submit" class="button">ì œì¶œ</button>
    </form>
    <button id="restartColor" class="button restart" style="display:none;">ë‹¤ì‹œí•˜ê¸°</button>
  </section>

  <!-- ìµœì¢… ê²°ê³¼ -->
  <section id="summary">
    <div class="test-header"><span class="icon">ğŸŒŸ</span>ì¢…í•© ê²°ê³¼</div>
    <div class="test-desc">
      <b>ê° ì‹¬ë¦¬Â·ì• ì°©Â·ì´ë¯¸ì§€ ê¶í•©ì„ ì¢…í•© ë¶„ì„í•œ<br>ë‚˜ë§Œì˜ ê²°í˜¼ ê¶í•© ê²°ê³¼ì…ë‹ˆë‹¤!</b>
    </div>
    <div id="summaryResult"></div>
    <button id="resetAll" class="button restart">ì²˜ìŒìœ¼ë¡œ</button>
  </section>
  <script>
    // ê¶í•©í‘œ
    const jungMatch = {
      king: { best: "ì—°ì¸(ğŸ’), ë§ˆë²•ì‚¬(ğŸ§™)", reason: "ê°ì •ê³¼ ì°½ì˜ì„±ì˜ ê· í˜•ìœ¼ë¡œ ì¡°í™”ë¡œìš´ ê´€ê³„ë¥¼ ë§Œë“­ë‹ˆë‹¤." },
      warrior: { best: "ë§ˆë²•ì‚¬(ğŸ§™), ì—°ì¸(ğŸ’)", reason: "ë„ì „+ì§€ì  êµë¥˜, ê°ì„±ì˜ ì¡°í™”ê°€ ì˜ ë§ìŠµë‹ˆë‹¤." },
      lover: { best: "ì™•(ğŸ‘‘), ì „ì‚¬(âš”ï¸)", reason: "ë¦¬ë”ì‹­Â·ì‹¤í–‰ë ¥ê³¼ ê°ì„±ì´ ì‹œë„ˆì§€ íš¨ê³¼ë¥¼ ëƒ…ë‹ˆë‹¤." },
      magician: { best: "ì „ì‚¬(âš”ï¸), ì™•(ğŸ‘‘)", reason: "ì‹¤í–‰ë ¥/ë¦¬ë”ì‹­ê³¼ ì°½ì˜ì„±ì´ ë§Œë‚œ ì¢‹ì€ ì¡°í•©ì…ë‹ˆë‹¤." }
    };
    const attachMatch = {
      secure: { best:"ë¶ˆì•ˆí˜•(ğŸ˜°), ì•ˆì •í˜•(ğŸ˜Œ)", reason:"ìƒëŒ€ì˜ ë¶ˆì•ˆì„ ì•ˆì •ì‹œì¼œì£¼ëŠ” ë“ ë“ í•œ ê´€ê³„ê°€ ë©ë‹ˆë‹¤." },
      anxious: { best:"ì•ˆì •í˜•(ğŸ˜Œ)", reason:"ì•ˆì •í˜•ì˜ ë°°ë ¤ë¡œ ë§ˆìŒì˜ í‰í™”ë¥¼ ì°¾ìŠµë‹ˆë‹¤." },
      avoidant: { best:"ì•ˆì •í˜•(ğŸ˜Œ)", reason:"ë¶€ë“œëŸ½ê³  ì—¬ìœ  ìˆëŠ” ìƒëŒ€ê°€ ê´€ê³„ë¥¼ í¸ì•ˆí•˜ê²Œ ë§Œë“­ë‹ˆë‹¤." }
    };

    // íƒ­ í‘œì‹œ + ë²„íŠ¼ active ìŠ¤íƒ€ì¼
    const navButtons = document.querySelectorAll('nav button');
    navButtons.forEach(btn => btn.addEventListener('click', () => {
      navButtons.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
      document.getElementById(btn.dataset.target).classList.add('active');
    }));
    navButtons[0].click();

    const results = { jung:null, attachment:null, color:null, jungKey:null, attachKey:null };

    // ì¹¼ ìœµ í…ŒìŠ¤íŠ¸
    (function(){
      const qJ = [
        {t:"ë‚˜ëŠ” ì–´ë–¤ ëª¨ì„ì´ë“  ìì—°ìŠ¤ëŸ½ê²Œ ì¤‘ì‹¬ì´ ë˜ê±°ë‚˜ ë¦¬ë” ì—­í• ì„ ë§¡ëŠ” í¸ì´ë‹¤.",g:"king"},
        {t:"ë‚˜ëŠ” ë‚´ ì£¼ë³€ ì‚¬ëŒë“¤ì˜ ì‚¶ì´ ì•ˆì •ë˜ë„ë¡ ë•ëŠ” ê²ƒì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•œë‹¤.",g:"king"},
        {t:"ë‚˜ëŠ” ê³„íšì„ ì„¸ìš°ê³  ê·¸ ê³„íšëŒ€ë¡œ ì¼ì´ ì§„í–‰ë˜ë„ë¡ ê´€ë¦¬í•˜ëŠ” ê±¸ ì¦ê¸´ë‹¤.",g:"king"},
        {t:"ë‚˜ëŠ” ëª©í‘œë¥¼ ì •í•˜ë©´ ëê¹Œì§€ í•´ë‚´ê³  ì‹¶ì–´ì§€ëŠ” ì„±ê²©ì´ë‹¤.",g:"warrior"},
        {t:"ìœ„ê¸°ì˜ ìˆœê°„ì—ë„ ì¹¨ì°©í•˜ê²Œ ëŒ€ì‘í•˜ê±°ë‚˜ ì ê·¹ì ìœ¼ë¡œ ë‚˜ì„œëŠ” í¸ì´ë‹¤.",g:"warrior"},
        {t:"ê²½ìŸì´ ìˆëŠ” ìƒí™©ì—ì„œ ì˜¤íˆë ¤ ë” ì—ë„ˆì§€ê°€ ì†ŸëŠ” í¸ì´ë‹¤.",g:"warrior"},
        {t:"ë‚˜ëŠ” ì‚¬ì†Œí•œ ê°ì •ì˜ ë³€í™”ë‚˜ ë¶„ìœ„ê¸°ë¥¼ ì˜ ëŠë¼ê³  ê³µê°í•˜ëŠ” í¸ì´ë‹¤.",g:"lover"},
        {t:"ë‚˜ëŠ” ì‚¬ë‘ì´ë‚˜ ê°ì •ì„ í‘œí˜„í•˜ëŠ” ë° ì£¼ì €í•¨ì´ ì—†ë‹¤.",g:"lover"},
        {t:"ì˜ˆìˆ , ìŒì•…, ë¬¸í•™ ë“± ê°ì„±ì ì¸ ì·¨í–¥ì´ ë‚˜ì˜ ì •ì²´ì„±ì— í° ì˜í–¥ì„ ì¤€ë‹¤.",g:"lover"},
        {t:"ë‚˜ëŠ” ìƒí™©ì˜ ì´ë©´ì„ ë¶„ì„í•˜ê±°ë‚˜ ê´€ì°°í•˜ëŠ” ê±¸ ì¢‹ì•„í•œë‹¤.",g:"magician"},
        {t:"ë‚˜ëŠ” ì„¸ìƒì´ë‚˜ ì‚¬ëŒì˜ ë³¸ì§ˆì— ëŒ€í•œ í†µì°°ì„ ì–»ëŠ” ê±¸ ì¦ê¸´ë‹¤.",g:"magician"},
        {t:"ë‚˜ëŠ” ì§ì ‘ ê²½í—˜ë³´ë‹¤ ì‚¬ìœ ë‚˜ ìƒìƒ, ìƒˆë¡œìš´ ê´€ì ì„ ì¤‘ì‹œí•˜ëŠ” í¸ì´ë‹¤.",g:"magician"}
      ];
      const bJ = [
        {t:"ë‚˜ëŠ” ììœ¨ì„±ë³´ë‹¤ëŠ” ì±…ì„ê°ì„ ë” ì¤‘ìš”í•˜ê²Œ ì—¬ê¸´ë‹¤.",g:"king"},
        {t:"ë‚˜ëŠ” ê°ì •ì— ë¯¼ê°í•˜ê³  íƒ€ì¸ì˜ ë§ˆìŒì„ ì˜ ëŠë‚€ë‹¤.",g:"lover"},
        {t:"ë‚˜ëŠ” ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ì™€ í†µì°°ì— í° í¥ë¯¸ë¥¼ ëŠë‚€ë‹¤.",g:"magician"}
      ];
      const descJ={
        king:"ğŸ‘‘ ì™•(King)<br>ì±…ì„ê° ìˆê³  ì•ˆì •ì ì¸ ë¦¬ë”í˜•ì…ë‹ˆë‹¤.<br><b>ì¥ì :</b> ì‹ ë¢°ì™€ í—Œì‹ ìœ¼ë¡œ ê´€ê³„ë¥¼ ì•ˆì •ì‹œí‚µë‹ˆë‹¤.",
        warrior:"âš”ï¸ ì „ì‚¬(Warrior)<br>ëª©í‘œì§€í–¥ì ì´ê³  ì‹¤í–‰ë ¥ì´ ë›°ì–´ë‚œ ë„ì „ê°€í˜•ì…ë‹ˆë‹¤.<br><b>ì¥ì :</b> ë³€í™”ë¥¼ ì´ë„ëŠ” ì¶”ì§„ë ¥ê³¼ ì—´ì •.",
        lover:"ğŸ’ ì—°ì¸(Lover)<br>ê°ì„±ì ì´ê³  ê³µê° ëŠ¥ë ¥ì´ ë›°ì–´ë‚œ ì˜ˆìˆ ê°€í˜•ì…ë‹ˆë‹¤.<br><b>ì¥ì :</b> ì„¬ì„¸í•œ ë°°ë ¤, ê¹Šì€ ê°ì • êµë¥˜.",
        magician:"ğŸ§™ ë§ˆë²•ì‚¬(Magician)<br>ì‚¬ìœ  ê¹Šê³  í†µì°°ë ¥ ìˆëŠ” íƒêµ¬ìí˜•ì…ë‹ˆë‹¤.<br><b>ì¥ì :</b> ë…íŠ¹í•œ ê´€ì ê³¼ ì°½ì˜ë ¥."
      };
      const bgJ={ king:"#ffeaa7", warrior:"#dfe6e9", lover:"#f3a683", magician:"#74b9ff" };
      const contQ=document.getElementById('questionsJung');
      qJ.forEach((q,i)=>{
        const d=document.createElement('div'); d.className='question';
        d.innerHTML=`<label>${i+1}. ${q.t}</label>
          <div class="scale-labels"><span>ë§¤ìš° ì•„ë‹ˆë‹¤</span><span>ì•„ë‹ˆë‹¤</span><span>ì¤‘ê°„</span><span>ê·¸ë ‡ë‹¤</span><span>ë§¤ìš° ê·¸ë ‡ë‹¤</span></div>
          <div class="radio-group" data-group="${q.g}">
            <input type="radio" name="qJ${i}" id="qJ${i}_1" value="1" data-group="${q.g}"><label for="qJ${i}_1">1</label>
            <input type="radio" name="qJ${i}" id="qJ${i}_2" value="2" data-group="${q.g}"><label for="qJ${i}_2">2</label>
            <input type="radio" name="qJ${i}" id="qJ${i}_3" value="3" data-group="${q.g}"><label for="qJ${i}_3">3</label>
            <input type="radio" name="qJ${i}" id="qJ${i}_4" value="4" data-group="${q.g}"><label for="qJ${i}_4">4</label>
            <input type="radio" name="qJ${i}" id="qJ${i}_5" value="5" data-group="${q.g}"><label for="qJ${i}_5">5</label>
          </div>`;
        contQ.appendChild(d);
      });
      const contB=document.getElementById('bonusJung');
      bJ.forEach((b,i)=>{
        const d=document.createElement('div'); d.className='question';
        d.innerHTML=`<label>${qJ.length+i+1}. ${b.t}</label>
          <div class="scale-labels"><span>ë§¤ìš° ì•„ë‹ˆë‹¤</span><span>ì•„ë‹ˆë‹¤</span><span>ì¤‘ê°„</span><span>ê·¸ë ‡ë‹¤</span><span>ë§¤ìš° ê·¸ë ‡ë‹¤</span></div>
          <div class="radio-group" data-group="${b.g}">
            <input type="radio" name="bonusJ${i}" id="bonusJ${i}_1" value="1" data-group="${b.g}"><label for="bonusJ${i}_1">1</label>
            <input type="radio" name="bonusJ${i}" id="bonusJ${i}_2" value="2" data-group="${b.g}"><label for="bonusJ${i}_2">2</label>
            <input type="radio" name="bonusJ${i}" id="bonusJ${i}_3" value="3" data-group="${b.g}"><label for="bonusJ${i}_3">3</label>
            <input type="radio" name="bonusJ${i}" id="bonusJ${i}_4" value="4" data-group="${b.g}"><label for="bonusJ${i}_4">4</label>
            <input type="radio" name="bonusJ${i}" id="bonusJ${i}_5" value="5" data-group="${b.g}"><label for="bonusJ${i}_5">5</label>
          </div>`;
        contB.appendChild(d);
      });
      document.getElementById('surveyFormJung').addEventListener('submit',e=>{
        e.preventDefault();
        const total = document.querySelectorAll('#questionsJung .radio-group').length + document.querySelectorAll('#bonusJung .radio-group').length;
        const checked = document.querySelectorAll('#questionsJung .radio-group input:checked').length + document.querySelectorAll('#bonusJung .radio-group input:checked').length;
        if(checked < total){
          alert("ëª¨ë“  ë¬¸í•­ì— ì‘ë‹µí•´ ì£¼ì„¸ìš”!");
          return;
        }
        const s={king:0,warrior:0,lover:0,magician:0};
        document.querySelectorAll('#questionsJung .radio-group input:checked').forEach(i=>s[i.dataset.group]+=+i.value);
        document.querySelectorAll('#bonusJung .radio-group input:checked').forEach(i=>s[i.dataset.group]+=+i.value);
        let arr=Object.entries(s).sort((a,b)=>b[1]-a[1]), top=arr.filter(x=>x[1]===arr[0][1]).map(x=>x[0]);
        if(top.length>1){
          const bs={};
          ['king','lover','magician'].forEach(g=>bs[g]=+document.querySelector(`[data-group=${g}] input:checked`)?.value||0);
          top.sort((a,b)=>bs[b]-bs[a]);
        }
        const main=top[0];
        results.jung={type:descJ[main],bg:bgJ[main], key:main};
        results.jungKey=main;
        document.getElementById('restartJung').style.display='block';
        document.querySelector('nav button[data-target="attachment"]').click();
        window.scrollTo({top:0, behavior:'smooth'});
      });
    })();

    // ì• ì°© ìœ í˜• í…ŒìŠ¤íŠ¸ (ì§ˆë¬¸ 12ê°œë¡œ í™•ì¥)
    (function(){
      const qa = [
        {t:"ë‚˜ëŠ” ê°€ê¹Œìš´ ì‚¬ëŒì—ê²Œ ìì£¼ ì—°ë½í•˜ê³  ì‹¶ë‹¤.", g:"anxious"},
        {t:"ë‚˜ëŠ” ê°ì •ì„ ìˆ¨ê¸°ê³  ìŠ¤ìŠ¤ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.", g:"avoidant"},
        {t:"ë‚˜ëŠ” ì•ˆì •ëœ ê´€ê³„ì—ì„œ í¸ì•ˆí•¨ì„ ëŠë‚€ë‹¤.", g:"secure"},
        {t:"ê±°ë¦¬ê°€ ëŠê»´ì§€ë©´ ë¶ˆì•ˆí•´ì§„ë‹¤.", g:"anxious"},
        {t:"ê°ì • í‘œí˜„ë³´ë‹¤ëŠ” í˜¼ì ìˆëŠ” ê±¸ ì„ í˜¸í•œë‹¤.", g:"avoidant"},
        {t:"ìƒëŒ€ì™€ì˜ ì†”ì§í•œ ëŒ€í™”ê°€ ì¤‘ìš”í•˜ë‹¤.", g:"secure"},
        {t:"ìƒëŒ€ê°€ ë‚˜ë¥¼ ë– ë‚ ê¹Œë´ ê±±ì •í•  ë•Œê°€ ë§ë‹¤.", g:"anxious"},
        {t:"í˜¼ìë§Œì˜ ì‹œê°„ì´ ê¼­ í•„ìš”í•˜ë‹¤.", g:"avoidant"},
        {t:"ì„œë¡œ ì‹ ë¢°ê°€ ìŒ“ì´ë©´ ë‹¤íˆ¼ì´ ìƒê²¨ë„ ê¸ˆë°© íšŒë³µí•  ìˆ˜ ìˆë‹¤.", g:"secure"},
        {t:"ì‚¬ë‘ë°›ê³  ìˆìŒì„ ìì£¼ í™•ì¸ ë°›ê³  ì‹¶ë‹¤.", g:"anxious"},
        {t:"ìƒëŒ€ë°©ì´ ê°ì •ì ìœ¼ë¡œ ë‹¤ê°€ì˜¤ë©´ ë¶€ë‹´ìŠ¤ëŸ½ë‹¤.", g:"avoidant"},
        {t:"ë§ˆìŒì„ í‘œí˜„í•  ë•Œ, ìƒëŒ€ë¥¼ ë¨¼ì € ë°°ë ¤í•˜ë ¤ í•œë‹¤.", g:"secure"}
      ];
      const descA = {
        anxious: "ğŸ˜° ë¶ˆì•ˆí˜•<br>ê°€ê¹Œì›€ì— ëŒ€í•œ ìš•êµ¬ê°€ ê°•í•˜ë©°, ê´€ê³„ì—ì„œ ê³¼ë„í•œ ê±±ì •ì„ í•©ë‹ˆë‹¤.<br><b>ì¥ì :</b> ì‘ì€ ë³€í™”ì—ë„ ë¯¼ê°í•˜ê²Œ ë°˜ì‘í•˜ì—¬ ì„¸ì‹¬í•œ ë°°ë ¤ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
        avoidant: "ğŸ¤ íšŒí”¼í˜•<br>ë…ë¦½ì ì´ê³  ê°ì • í‘œí˜„ì„ ìì œí•˜ë©°, ë•Œë•Œë¡œ ê±°ë¦¬ë¥¼ ë‘¡ë‹ˆë‹¤.<br><b>ì¥ì :</b> ê°ì •ì— í”ë“¤ë¦¬ì§€ ì•Šê³  ìê¸°ë§Œì˜ ì‹œê°„ì„ ì†Œì¤‘íˆ ì—¬ê¹ë‹ˆë‹¤.",
        secure: "ğŸ˜Œ ì•ˆì •í˜•<br>ì‹ ë¢°ì™€ ì†Œí†µì„ ê¸°ë°˜ìœ¼ë¡œ í¸ì•ˆí•œ ê´€ê³„ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.<br><b>ì¥ì :</b> ê°ˆë“±ì—ë„ ì¹¨ì°©í•˜ê²Œ ì†Œí†µí•˜ë©° ê°ì •ì„ ê· í˜• ìˆê²Œ ì¡´ì¤‘í•©ë‹ˆë‹¤."
      };
      const bgA = { anxious: "#fab1a0", avoidant: "#b2bec3", secure: "#55efc4" };
      const cont = document.getElementById('questionsAttach');
      qa.forEach((q,i) => {
        const d = document.createElement('div'); d.className='question';
        d.innerHTML = `<label>${i+1}. ${q.t}</label>
          <div class="scale-labels"><span>ë§¤ìš° ì•„ë‹ˆë‹¤</span><span>ì•„ë‹ˆë‹¤</span><span>ì¤‘ê°„</span><span>ê·¸ë ‡ë‹¤</span><span>ë§¤ìš° ê·¸ë ‡ë‹¤</span></div>
          <div class="radio-group" data-group="${q.g}">
            <input type="radio" name="qA${i}" id="qA${i}_1" value="1" data-group="${q.g}"><label for="qA${i}_1">1</label>
            <input type="radio" name="qA${i}" id="qA${i}_2" value="2" data-group="${q.g}"><label for="qA${i}_2">2</label>
            <input type="radio" name="qA${i}" id="qA${i}_3" value="3" data-group="${q.g}"><label for="qA${i}_3">3</label>
            <input type="radio" name="qA${i}" id="qA${i}_4" value="4" data-group="${q.g}"><label for="qA${i}_4">4</label>
            <input type="radio" name="qA${i}" id="qA${i}_5" value="5" data-group="${q.g}"><label for="qA${i}_5">5</label>
          </div>`;
        cont.appendChild(d);
      });
      document.getElementById('surveyFormAttach').addEventListener('submit', e => {
        e.preventDefault();
        const total = document.querySelectorAll('#questionsAttach .radio-group').length;
        const checked = document.querySelectorAll('#questionsAttach .radio-group input:checked').length;
        if(checked < total){
          alert("ëª¨ë“  ë¬¸í•­ì— ì‘ë‹µí•´ ì£¼ì„¸ìš”!");
          return;
        }
        const s = { anxious:0, avoidant:0, secure:0 };
        document.querySelectorAll('#questionsAttach .radio-group input:checked')
          .forEach(r => s[r.dataset.group] += +r.value);
        const main = Object.entries(s).sort((a,b)=>b[1]-a[1])[0][0];
        results.attachment = { type:descA[main], bg:bgA[main], key:main };
        results.attachKey=main;
        document.getElementById('restartAttach').style.display='block';
        document.querySelector('nav button[data-target="color"]').click();
        window.scrollTo({top:0, behavior:'smooth'});
      });
    })();

    // ìƒ‰ê¹” ê¶í•© ëª¨ë“ˆ
    (function(){
      const colors=[
        {id:'red',name:'ë¹¨ê°•',hex:'#e74c3c'},
        {id:'orange',name:'ì£¼í™©',hex:'#e67e22'},
        {id:'yellow',name:'ë…¸ë‘',hex:'#f1c40f'},
        {id:'green',name:'ì´ˆë¡',hex:'#2ecc71'},
        {id:'blue',name:'íŒŒë‘',hex:'#3498db'},
        {id:'navy',name:'ë‚¨ìƒ‰',hex:'#2c3e50'},
        {id:'purple',name:'ë³´ë¼',hex:'#9b59b6'},
        {id:'pink',name:'í•‘í¬',hex:'#fd79a8'},
        {id:'sky',name:'í•˜ëŠ˜ìƒ‰',hex:'#74b9ff'}
      ];
      const compat={
        warm_warm:{
          desc:'ğŸ”¥ ì—´ì •ì´ ë„˜ì¹˜ëŠ” ë§Œë‚¨! ë‘ ì‚¬ëŒ ëª¨ë‘ í™œê¸°ì°¬ ìƒ‰ì˜ ë§Œë‚¨ìœ¼ë¡œ, ê°•í•œ ëŒë¦¼ê³¼ ì—ë„ˆì§€ê°€ ê°€ë“í•œ ì¡°í•©ì…ë‹ˆë‹¤.',
          tip:'í•¨ê»˜ ìƒˆë¡œìš´ ë„ì „ì„ ì‹œë„í•´ë³´ì„¸ìš”. ì„œë¡œì˜ ì—´ì •ì„ ê³µìœ í•˜ë©´ í° ì‹œë„ˆì§€ê°€ ë‚©ë‹ˆë‹¤! ğŸ’ª'
        },
        warm_cool:{
          desc:'ğŸŒˆ ë”°ëœ»í•¨ê³¼ ì‹œì›í•¨ì˜ ì™„ë²½í•œ ì¡°í™”! ê· í˜• ì¡íŒ ê´€ê³„ì…ë‹ˆë‹¤.',
          tip:'ì„±í–¥ì˜ ì°¨ì´ê°€ ì˜¤íˆë ¤ ì¥ì ! ì„œë¡œ ë‹¤ë¥¸ ê´€ì ì—ì„œ ì„±ì¥í•  ìˆ˜ ìˆì–´ìš”. ğŸ‘«'
        },
        cool_cool:{
          desc:'â„ï¸ ì°¨ë¶„í•¨ê³¼ ì•ˆì •ê°ì˜ ê³µê°, í¸ì•ˆí•œ ê´€ê³„ì…ë‹ˆë‹¤.',
          tip:'ì„œë¡œë¥¼ í¸ì•ˆí•˜ê²Œ í•´ì£¼ëŠ” ì¡°í•©, ì‹¬ë¦¬ì  ì•ˆì •ê°ì´ í½ë‹ˆë‹¤. ğŸ€'
        },
        pastel_pastel:{
          desc:'ğŸ’ ë¶€ë“œëŸ½ê³  ë‹¬ì½¤í•œ ìƒ‰ì˜ í–¥ì—°, ë¡œë§¨í‹±í•œ ì¼€ë¯¸ì…ë‹ˆë‹¤.',
          tip:'ê°ì„±ì  ëŒ€í™”ì™€ ì·¨ë¯¸ë¡œ ì„œë¡œì˜ ê°ì •ì„ í’ë¶€í•˜ê²Œ ì±„ì›Œë³´ì„¸ìš”. ğŸ¶'
        },
        warm_pastel:{
          desc:'â˜€ï¸+ğŸŒ¸ ê°•ë ¬í•¨ê³¼ ë¶€ë“œëŸ¬ì›€ì˜ ë§Œë‚¨, ìƒë™ê° ìˆëŠ” ì¡°í•©ì…ë‹ˆë‹¤.',
          tip:'ì„œë¡œì˜ ê°œì„±ì„ ì¡´ì¤‘í•˜ë©°, í™œë™ì ì¸ ì¼ì •ê³¼ ë¡œë§¨í‹±í•œ ìˆœê°„ì„ ë²ˆê°ˆì•„ ì¦ê¸°ë©´ ë² ìŠ¤íŠ¸! ğŸ’–'
        },
        cool_pastel:{
          desc:'ğŸŒŠ+ğŸ§ ì‹œì›í•¨ê³¼ ë¶€ë“œëŸ¬ì›€ì˜ ì¡°í™”, ë‹¬ì½¤í•˜ë©´ì„œë„ ì•ˆì •ì ì¸ ê´€ê³„ì…ë‹ˆë‹¤.',
          tip:'ì°¨ë¶„í•¨ê³¼ ë‹¤ì •í•¨ì´ ë§Œë‚œ ì¡°í™”, ì„¬ì„¸í•œ ë°°ë ¤ê°€ ê´€ê³„ì˜ ë§¤ë ¥ì„ ë†’ì—¬ì¤ë‹ˆë‹¤. ğŸ˜Š'
        }
      };
      function warm(id){
        if(['red','orange','yellow'].includes(id))return 'warm';
        if(['blue','navy','green'].includes(id))return 'cool';
        return 'pastel';
      }
      const myG=document.getElementById('myColorGroup'),idealG=document.getElementById('idealColorGroup');
      colors.forEach(c=>
        [myG,idealG].forEach(g=>{
          const i=document.createElement('input');i.type='radio';i.id=g.id+'_'+c.id;i.name=g.id;i.value=c.id;
          const l=document.createElement('label');l.htmlFor=i.id;l.innerText=c.name;l.style.background=c.hex;l.style.color='#fff';g.appendChild(i);g.appendChild(l);
        })
      );
      document.getElementById('surveyFormColor').addEventListener('submit',e=>{
        e.preventDefault();
        const my=document.querySelector('input[name=myColorGroup]:checked')?.value,
              ideal=document.querySelector('input[name=idealColorGroup]:checked')?.value;
        if(!my||!ideal){
          alert("ëª¨ë“  ë¬¸í•­ì— ì‘ë‹µí•´ ì£¼ì„¸ìš”!");
          return;
        }
        const m=colors.find(c=>c.id===my),i=colors.find(c=>c.id===ideal),key=warm(my)+'_'+warm(ideal),d=compat[key]||compat['warm_pastel'];
        results.color={my:m.name,ideal:i.name,desc:d.desc,tip:d.tip,bg:`linear-gradient(to right, ${m.hex}, ${i.hex})`};
        document.getElementById('restartColor').style.display='block';
        document.querySelector('nav button[data-target="summary"]').click();
        window.scrollTo({top:0, behavior:'smooth'});
      });
    })();

    // ìµœì¢… ê²°ê³¼ í‘œì‹œ
    function showSummary(){
      const div=document.getElementById('summaryResult');
      if(!results.jung||!results.attachment||!results.color){
        div.innerHTML='<p>ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì™„ë£Œí•˜ì„¸ìš”.</p>';return;
      }
      let jungType = results.jungKey;
      let attachType = results.attachKey;
      let jungMsg = {
        king: "<span style='font-size:2.5em;'>ğŸ‘‘</span><br>ë‹¹ì‹ ì€<br><b>ë¯¿ìŒì§í•œ ë¦¬ë”í˜•(ì™•)</b>!<br>ì¡°ì§ì´ë‚˜ ê°€ì¡±ì—ì„œ ì¤‘ì‹¬ì„ ì¡ì•„ì£¼ê³  ëª¨ë‘ë¥¼ ì•„ìš°ë¥´ëŠ” í˜ì´ ìˆìŠµë‹ˆë‹¤.",
        warrior: "<span style='font-size:2.5em;'>âš”ï¸</span><br>ë‹¹ì‹ ì€<br><b>ì—´ì •ì  ì‹¤í–‰ê°€í˜•(ì „ì‚¬)</b>!<br>ë„ì „ê³¼ ì¶”ì§„ë ¥, í™œë ¥ì´ ê°€ë“í•©ë‹ˆë‹¤.",
        lover: "<span style='font-size:2.5em;'>ğŸ’</span><br>ë‹¹ì‹ ì€<br><b>ê°ì„±ê°€í˜•(ì—°ì¸)</b>!<br>ê³µê°ê³¼ ë°°ë ¤ë¡œ ì‚¬ë‘ë°›ëŠ” íƒ€ì…ì…ë‹ˆë‹¤.",
        magician: "<span style='font-size:2.5em;'>ğŸ§™</span><br>ë‹¹ì‹ ì€<br><b>ì•„ì´ë””ì–´ ë±…í¬(ë§ˆë²•ì‚¬)</b>!<br>ì°½ì˜ì ì´ê³  í†µì°°ë ¥ì´ ë‹ë³´ì…ë‹ˆë‹¤."
      }[jungType];
      let attachMsg = {
        secure: "<span style='font-size:2.3em;'>ğŸ˜Œ</span><br><b>ì•ˆì •í˜•</b><br>ì‹ ë¢°ì™€ ì†Œí†µìœ¼ë¡œ<br>ê´€ê³„ë¥¼ í¸ì•ˆí•˜ê²Œ ì´ëŒì–´ê°‘ë‹ˆë‹¤.",
        anxious: "<span style='font-size:2.3em;'>ğŸ˜°</span><br><b>ë¶ˆì•ˆí˜•</b><br>ê°€ê¹Œì›€ì„ ì¤‘ì‹œí•˜ê³ <br>ì• ì • í™•ì¸ì´ ê¼­ í•„ìš”í•©ë‹ˆë‹¤.",
        avoidant: "<span style='font-size:2.3em;'>ğŸ¤</span><br><b>íšŒí”¼í˜•</b><br>ë…ë¦½ì ì´ê³ <br>ê±°ë¦¬ë¥¼ ë‘ëŠ” ê²ƒì„ í¸ì•ˆí•´í•©ë‹ˆë‹¤."
      }[attachType];
      let bestType = jungMatch[jungType].best;
      let bestWhy = jungMatch[jungType].reason;
      let bestAttach = attachMatch[attachType].best;
      let bestAttachWhy = attachMatch[attachType].reason;

      div.innerHTML=`
        <div class="result-deck">
        <div class="result-card" style="background:${results.jung.bg}">
          <div class="card-icon" style="opacity:0.98;">ğŸŒ€</div>
          <h3>ì›í˜• ì‹¬ë¦¬</h3>
          <div class="type-em">${jungMsg}</div>
          <div class="type-info"><b>ê°•ì :</b><br> ${results.jung.type}</div>
        </div>
        <div class="result-card" style="background:${results.attachment.bg}">
          <div class="card-icon" style="opacity:0.98;">ğŸ”—</div>
          <h3>ì• ì°© ìœ í˜•</h3>
          <div class="type-em">${attachMsg}</div>
          <div class="type-info"><b>ëŒ€ì¸ê´€ê³„ ê°•ì :</b><br> ${results.attachment.type}</div>
        </div>
        <div class="result-card" style="background:${results.color.bg}">
          <div class="card-icon" style="opacity:0.98;">ğŸ¨</div>
          <h3>ìƒ‰ê¹” ê¶í•©</h3>
          <div class="type-em">ë‚˜: ${results.color.my} &nbsp;ï½œ&nbsp; ì´ìƒí˜•(ìƒëŒ€ë°©): ${results.color.ideal}</div>
          <ul>
            <li>ê¶í•©: <b>${results.color.desc}</b></li>
            <li>ğŸ’¡ <span>${results.color.tip}</span></li>
          </ul>
        </div>
        </div>
        <div class="final-msg">
          <span style="font-size:1.4em;">ğŸ’¡ <b>ë‚˜ì˜ ê²°í˜¼ ê¶í•© ì´í‰</b></span><br><br>
          <span style="font-size:1.2em;">ğŸ§© <b>ì„±í–¥ ê¶í•©</b>: <span class="type-good">${bestType}</span> íƒ€ì…ê³¼ ìµœìƒ!<br></span>
          <span style="color:#676686; font-size:0.98em;">${bestWhy}</span><br><br>
          <span style="font-size:1.2em;">ğŸ’ <b>ì• ì°© ê¶í•©</b>: <span class="type-good">${bestAttach}</span> ìœ í˜•ì´ ë² ìŠ¤íŠ¸!<br></span>
          <span style="color:#676686; font-size:0.98em;">${bestAttachWhy}</span>
        </div>
      `;
    }
    document.querySelector('nav button[data-target="summary"]').addEventListener('click', showSummary);
    document.getElementById('resetAll').addEventListener('click', ()=>location.reload());
  </script>
</body>
</html>
